<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>ZANTARA ‚Äì Option 3: Segmented Control (iOS-Style)</title>
  <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16.png">
  <link rel="apple-touch-icon" href="assets/apple-touch-icon.png">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#8B5CF6">
  <style>
    /* Critical inline override (cache-safe): always show chat */
    #splash-screen{display:none!important}
    #welcome-screen{display:none!important}
    #chat-interface{display:flex!important}
  </style>
  <link rel="stylesheet" href="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/styles/design-system.css">
  <link rel="stylesheet" href="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/styles/theme-indonesia.css">
  <link rel="stylesheet" href="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/styles/design-enhancements.css">
  <link rel="stylesheet" href="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/styles/logo-animations.css">
  <link rel="stylesheet" href="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/styles/premium-ui.css">
  <link rel="stylesheet" href="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/styles/streaming-toggle.css">
  <link rel="stylesheet" href="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/styles/virtualization-config.css">
  <link rel="stylesheet" href="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/styles/test-console.css">
  <link rel="stylesheet" href="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/styles/zantara-theme.css">
  <link rel="stylesheet" href="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/styles/zantara-theme-day.css?v=prod11">
  <link rel="stylesheet" href="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/styles/zantara-theme-night-enhanced.css?v=prod11">
  <link rel="stylesheet" href="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/styles/components.css?v=prod11">
  <style>
    /* OPTION 3: Segmented Control Styles */
    .theme-segmented-control {
      display: flex;
      background: var(--bg-glass);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 4px;
      margin-left: auto;
      margin-right: 8px;
      border: var(--glass-border, 1px solid rgba(255, 255, 255, 0.2));
      box-shadow: var(--glass-shadow);
    }

    .theme-segment {
      padding: 6px 12px;
      border: none;
      background: transparent;
      border-radius: 16px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 500;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 4px;
      color: var(--text-secondary, #666);
    }

    .theme-segment:hover {
      color: var(--text-primary);
    }

    /* Active state - Day Mode */
    [data-theme="day"] .theme-segment.active {
      background: linear-gradient(135deg, #FF0040, #FFA500);
      color: white;
      box-shadow: 0 2px 8px rgba(255, 0, 64, 0.3);
    }

    /* Active state - Night Mode */
    [data-theme="night"] .theme-segment.active {
      background: linear-gradient(135deg, #BD00FF, #00D9FF);
      color: white;
      box-shadow: 0 0 20px rgba(189, 0, 255, 0.4);
    }

    /* Hide FAB if created by theme-switcher.js */
    .theme-toggle-fab {
      display: none !important;
    }

    /* Mobile: smaller padding */
    @media (max-width: 768px) {
      .theme-segment {
        padding: 6px 10px;
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <!-- Splash Screen -->
  <div id="splash-screen" class="splash-screen" role="status" aria-live="polite" style="display:none">
    <img src="assets/lotus-day.svg" class="lotus-splash" alt="ZANTARA">
    <h1 class="splash-title">ZANTARA</h1>
    <div class="splash-loader" aria-hidden="true"></div>
  </div>

  <!-- Red Particles Background -->
  <div class="red-particles">
    <span class="red-particle"></span>
    <span class="red-particle"></span>
    <span class="red-particle"></span>
    <span class="red-particle"></span>
    <span class="red-particle"></span>
    <span class="red-particle"></span>
    <span class="red-particle"></span>
    <span class="red-particle"></span>
    <span class="red-particle"></span>
    <span class="red-particle"></span>
  </div>

  <!-- Background Wave -->
  <div class="bg-wave"></div>

  <!-- Logo Breakout Animation -->
  <div class="logo-breakout">
    <img src="assets/logo-day.jpeg" alt="ZANTARA Logo" class="logo-glitch">
  </div>

  <!-- Parallax Logo -->
  <div class="parallax-logo">
    <img src="assets/logo-day.jpeg" alt="ZANTARA" class="logo-magnetic">
  </div>

  <!-- Main App Container -->
  <div id="app" class="app-container" aria-label="ZANTARA App">
    <header class="app-header glass-card">
      <div class="header-content">
        <img src="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/assets/logo-day.jpeg" class="logo-3d" alt="ZANTARA" style="width: 45px; height: 45px; border-radius: 50%;">
        <span class="app-title">ZANTARA</span>

        <!-- OPTION 3: Segmented Control -->
        <div class="theme-segmented-control">
          <button class="theme-segment active"
                  data-mode="day"
                  id="daySegment">
            ‚òÄÔ∏è Day
          </button>
          <button class="theme-segment"
                  data-mode="night"
                  id="nightSegment">
            üåô Night
          </button>
        </div>

        <button class="menu-toggle" aria-label="Open menu">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 12h18M3 6h18M3 18h18" stroke="currentColor" stroke-width="2"/></svg>
        </button>
      </div>
    </header>

    <main class="main-content">
      <!-- Welcome Screen -->
      <div id="welcome-screen" class="welcome-screen" style="display:none">
        <div class="welcome-card glass-card">
          <h2>Hi there,</h2>
          <p>Give any command naturally, from generating content to managing your tasks</p>
          <div class="quick-actions" role="list">
            <button class="action-card glass-card" data-action="generate" role="listitem"><div class="action-icon">üìù</div><span>Generating Content</span></button>
            <button class="action-card glass-card" data-action="document" role="listitem"><div class="action-icon">üìÑ</div><span>Creating Document</span></button>
            <button class="action-card glass-card" data-action="schedule" role="listitem"><div class="action-icon">üìÖ</div><span>Scheduling Meeting</span></button>
            <button class="action-card glass-card" data-action="note" role="listitem"><div class="action-icon">üìù</div><span>Writing Note</span></button>
          </div>
          <button id="voice-button" class="voice-button">
            <div class="voice-button-inner">
              <svg class="microphone-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
                <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                <path d="M12 19v4m-4 0h8"/>
              </svg>
            </div>
            <span class="voice-label">Tap here to start with ZANTARA</span>
          </button>
        </div>
      </div>

      <!-- Chat Interface -->
      <div id="chat-interface" class="chat-interface" aria-live="polite" aria-label="Chat interface" style="display:flex">
        <div class="messages-container"></div>
        <div class="input-area glass-card">
          <button class="attach-button" aria-label="Attach file">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48" stroke="currentColor" stroke-width="2"/></svg>
          </button>
          <input type="text" id="message-input" class="message-input" placeholder="Type a message or use voice..." aria-label="Message input">
          <button id="voice-input" class="voice-input-button" aria-label="Start voice input">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/></svg>
          </button>
          <button id="send-button" class="send-button" aria-label="Send message">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" stroke="currentColor" stroke-width="2"/></svg>
          </button>
        </div>
      </div>

      <!-- Voice Recording Overlay -->
      <div id="voice-overlay" class="voice-overlay" aria-hidden="true">
        <div class="voice-recording-card glass-card">
          <div class="voice-visualizer"><canvas id="voice-canvas"></canvas></div>
          <p class="listening-text">Listening...</p>
          <button class="stop-recording" aria-label="Stop recording"><svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><rect x="6" y="6" width="12" height="12" rx="2"/></svg></button>
        </div>
      </div>
    </main>

    <nav class="bottom-nav glass-card" aria-label="Primary">
      <button class="nav-item active" data-view="chat"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2"/></svg><span>Chat</span></button>
      <button class="nav-item" data-view="tools"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 3h6l6 6h6v6l-6 6H9l-6-6z" stroke="currentColor" stroke-width="2"/></svg><span>Tools</span></button>
      <button class="nav-item" data-view="files"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z" stroke="currentColor" stroke-width="2"/></svg><span>Files</span></button>
      <button class="nav-item" data-view="settings"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/><path d="M12 1v6m0 6v6m4.22-13.22l-4.24 4.24m0 3.96l4.24 4.24M20 12h-6m-6 0H2" stroke="currentColor" stroke-width="2"/></svg><span>Settings</span></button>
    </nav>
  </div>

  <script src="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/js/api-config.js?v=prod11"></script>
  <script src="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/js/app.js?v=prod11" type="module"></script>
  <script src="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/js/streaming-toggle.js"></script>
  <script src="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/js/streaming-client.js"></script>
  <script src="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/js/streaming-ui.js"></script>
  <script src="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/js/streaming-toggle-ui.js"></script>
  <script src="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/js/message-virtualization.js"></script>
  <script src="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/js/test-console.js?v=prod11"></script>
  <script src="/Users/antonellosiano/Desktop/salva noe/zantara-web-app/js/logo-interactions.js"></script>
  <script>
    // OPTION 3: Segmented Control Implementation
    (function(){
      const daySegment = document.getElementById('daySegment');
      const nightSegment = document.getElementById('nightSegment');
      const html = document.documentElement;
      const body = document.body;

      // Get saved theme or default to day
      let currentTheme = localStorage.getItem('zantara-theme') || 'day';

      // Apply theme
      function applyTheme(theme) {
        html.setAttribute('data-theme', theme);
        body.setAttribute('data-theme', theme);

        // Update all themeable elements
        document.querySelectorAll('.glass-card, .voice-button, .action-card, .message-bubble, .tool-card, .typing-dot, .input-area, .action-chip')
          .forEach(el => el.setAttribute('data-theme', theme));

        // Update active state
        if (theme === 'day') {
          if (daySegment) daySegment.classList.add('active');
          if (nightSegment) nightSegment.classList.remove('active');
        } else {
          if (nightSegment) nightSegment.classList.add('active');
          if (daySegment) daySegment.classList.remove('active');
        }

        currentTheme = theme;
        localStorage.setItem('zantara-theme', theme);
      }

      // Apply saved theme on load
      applyTheme(currentTheme);

      // Segment click handlers
      if (daySegment) {
        daySegment.addEventListener('click', () => applyTheme('day'));
      }

      if (nightSegment) {
        nightSegment.addEventListener('click', () => applyTheme('night'));
      }

      // Keyboard shortcut: Ctrl/Cmd + T
      document.addEventListener('keydown', (e) => {
        if ((e.key === 't' || e.key === 'T') && (e.ctrlKey || e.metaKey)) {
          e.preventDefault();
          const nextTheme = currentTheme === 'day' ? 'night' : 'day';
          applyTheme(nextTheme);
        }
      });
    })();
  </script>
</body>
</html>
