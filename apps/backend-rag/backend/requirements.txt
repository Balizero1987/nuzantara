# FastAPI and server
fastapi==0.115.0
uvicorn[standard]==0.32.0
pydantic==2.9.2
email-validator==2.1.0  # Required for Pydantic EmailStr validation

# ChromaDB and embeddings
chromadb==1.1.0
sentence-transformers==3.2.1

# Machine Learning (for query clustering)
scikit-learn==1.5.2
numpy==1.26.4

# PyTorch CPU-only (required for sentence-transformers CrossEncoder)
# Install via Dockerfile with --index-url flag (not here)

# Anthropic API
anthropic==0.39.0

# OpenAI API (for embeddings and summarization in Unified Memory)
openai==1.54.3

# HTTP client
httpx==0.27.2

# Async support
tenacity==9.0.0

# Logging
loguru==0.7.2

# Environment variables
python-dotenv==1.0.1

# AWS SDK for Cloudflare R2 (S3-compatible, for ChromaDB download)
boto3==1.35.0

# PostgreSQL drivers (Fly.io)
asyncpg==0.30.0
psycopg2-binary==2.9.10  # For migrations (sync driver)

# Server-Sent Events for streaming responses
sse-starlette==1.8.2

# Redis for caching and rate limiting (optional, falls back to in-memory)
redis==5.0.1

# Notification providers (optional)
# sendgrid==6.11.0  # Uncomment when SENDGRID_API_KEY is available
# twilio==8.10.0    # Uncomment when TWILIO credentials are available

# Testing (Phase 1: Memory Recall validation)
pytest==8.3.3
pytest-asyncio==0.24.0

# Force rebuild: 2025-11-15-PHASE1 - Unified Memory System deployment
