# ZANTARA RAG Backend Dependencies v5.4 - DEPENDENCY CONFLICTS RESOLVED
# Last updated: 2025-12-03

# Core Framework
fastapi==0.104.1
uvicorn[standard]==0.24.0
pydantic==2.5.0
pydantic-settings==2.1.0
python-multipart==0.0.6

# Vector Database
qdrant-client>=1.12.0  # Upgraded to support urllib3>=2.0.0

# Google Cloud Integration (Core for v5.3 Hybrid) - Use compatible versions
google-generativeai>=0.5.0
google-api-python-client>=2.100.0
google-auth>=2.23.0
google-auth-oauthlib>=1.1.0
google-auth-httplib2>=0.1.1
google-cloud-storage>=2.10.0
# google-cloud-aiplatform removed due to protobuf conflicts

# AI/ML - PINNED VERSIONS TO AVOID CONFLICTS
openai==1.55.0
anthropic==0.7.8
sentence-transformers==2.7.0

# Document Processing
openpyxl==3.1.2
email-validator==2.1.0
pypdf==3.17.1
PyPDF2==3.0.1
EbookLib==0.17.1
beautifulsoup4==4.12.2

# LangChain Ecosystem
langgraph>=0.0.1
langchain-core>=0.1.0
# langchain-google-genai removed to resolve conflicts

# HTTP/Network - UPGRADED TO RESOLVE CONFLICTS
httpx==0.27.2  # Pinned to 0.27.2 to avoid openai proxies conflict
requests==2.31.0
aiohttp>=3.10.0  # Required by litellm, runpod
urllib3>=2.0.0  # Required by selenium, types-requests

# Web Scraping (Peraturan Spider)
playwright==1.40.0
fake-useragent==1.4.0

# Authentication
python-jose[cryptography]==3.3.0
bcrypt==4.0.1
passlib[bcrypt]==1.7.4

# Database
asyncpg==0.29.0
psycopg2-binary==2.9.9
redis==5.0.1
sqlmodel==0.0.14

# Utilities - UPGRADED VERSIONS
python-dotenv==1.0.0
loguru==0.7.2
pytz>=2024.2  # Required by dateparser
packaging>=23.2,<25  # Compatible with langchain-core if needed

# Development & Quality Tools
pre-commit==3.6.0
ruff==0.1.8
pytest==9.0.1
pytest-asyncio==0.23.2
pytest-cov==4.1.0

# Observability
prometheus-fastapi-instrumentator>=6.1.0
# OpenTelemetry removed due to protobuf conflicts with google packages
# opentelemetry-api>=1.34.1
# opentelemetry-sdk>=1.34.1
# opentelemetry-instrumentation-fastapi>=0.45b0
# opentelemetry-exporter-otlp>=1.34.1

# Data Processing
datasets>=2.19.0
pandas>=2.0.0

# PDF Processing - UPGRADED
pdfplumber>=0.11.0
pdfminer.six>=20251107  # Match pdfplumber requirement

# Protocol Buffers - Let pip resolve version
# protobuf>=5.29.0  # Removed: conflicts with google-cloud-aiplatform

# XML/HTML Processing - UPGRADED
lxml>=5.3.0  # Required by trafilatura, htmldate
