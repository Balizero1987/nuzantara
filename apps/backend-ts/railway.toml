[build]
# Use nixpacks with Node.js detection
builder = "nixpacks"
# Install ALL dependencies (including devDependencies for TypeScript)
buildCommand = "npm ci && npm run build"

[deploy]
# Start command
startCommand = "npm start"

# Health check configuration
healthcheckPath = "/health"
healthcheckTimeout = 30
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3

# Resource allocation
numReplicas = 1
