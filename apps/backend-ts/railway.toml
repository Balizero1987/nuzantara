[build]
# Use nixpacks with Node.js detection
builder = "nixpacks"
# Just build - npm i happens in Nixpacks install phase
buildCommand = "npm run build"

[deploy]
# Start command
startCommand = "npm start"

# Health check configuration
healthcheckPath = "/health"
healthcheckTimeout = 300  # 5 minutes (increased from 30s to prevent timeout failures)
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3

# Resource allocation
numReplicas = 1
