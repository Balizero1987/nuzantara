{
  "openapi": "3.1.0",
  "info": {
    "title": "Nuzantara Prime",
    "version": "0.1.0"
  },
  "paths": {
    "/metrics": {
      "get": {
        "summary": "Metrics",
        "description": "Endpoint that serves Prometheus metrics.",
        "operationId": "metrics_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Login",
        "description": "User login with email and PIN\n\nReturns JWT token and user profile on successful authentication",
        "operationId": "login_api_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/app__routers__auth__LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/app__routers__auth__LoginResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/profile": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Get Profile",
        "description": "Get current user profile",
        "operationId": "get_profile_api_auth_profile_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/app__routers__auth__UserProfile"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/auth/logout": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Logout",
        "description": "Logout user (server-side token invalidation would go here)",
        "operationId": "logout_api_auth_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/auth/check": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Check Auth",
        "description": "Check if current session is valid",
        "operationId": "check_auth_api_auth_check_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/auth/csrf-token": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Get Csrf Token",
        "description": "Generate CSRF token and session ID for frontend security.\nReturns token in both JSON body and response headers.",
        "operationId": "get_csrf_token_api_auth_csrf_token_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Health Check",
        "description": "System health check - Non-blocking during startup.\nReturns \"initializing\" immediately if service not ready.\nPrevents container crashes during warmup by not creating heavy objects.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/handlers/list": {
      "get": {
        "tags": [
          "handlers"
        ],
        "summary": "List All Handlers",
        "description": "Returns complete registry of all available handlers\nThis is the master catalog that ZANTARA uses to see all available tools",
        "operationId": "list_all_handlers_api_handlers_list_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/handlers/search": {
      "get": {
        "tags": [
          "handlers"
        ],
        "summary": "Search Handlers",
        "description": "Search handlers by name, path, or description",
        "operationId": "search_handlers_api_handlers_search_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Query"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/handlers/category/{category}": {
      "get": {
        "tags": [
          "handlers"
        ],
        "summary": "Get Handlers By Category",
        "description": "Get all handlers in a specific category",
        "operationId": "get_handlers_by_category_api_handlers_category__category__get",
        "parameters": [
          {
            "name": "category",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Category"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/status": {
      "get": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Get Agents Status",
        "description": "Get status of all 10 agentic functions\n\nReturns:\n    Overall system status and capabilities\n\nPerformance: Cached for 5 minutes (90% faster on cache hit)",
        "operationId": "get_agents_status_api_agents_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/agents/journey/create": {
      "post": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Create Client Journey",
        "description": "\ud83c\udfaf AGENT 1: Client Journey Orchestrator\n\nCreate a new multi-step client journey with automatic progress tracking\n\nExample journeys:\n- pt_pma_setup: Complete PT PMA company setup (7 steps)\n- kitas_application: KITAS visa application (5 steps)\n- property_purchase: Property purchase process (6 steps)",
        "operationId": "create_client_journey_api_agents_journey_create_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateJourneyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/journey/{journey_id}": {
      "get": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Get Journey",
        "description": "Get journey details and progress",
        "operationId": "get_journey_api_agents_journey__journey_id__get",
        "parameters": [
          {
            "name": "journey_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Journey Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/journey/{journey_id}/step/{step_id}/complete": {
      "post": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Complete Journey Step",
        "description": "Mark a journey step as completed",
        "operationId": "complete_journey_step_api_agents_journey__journey_id__step__step_id__complete_post",
        "parameters": [
          {
            "name": "journey_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Journey Id"
            }
          },
          {
            "name": "step_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Step Id"
            }
          },
          {
            "name": "notes",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Notes"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/journey/{journey_id}/next-steps": {
      "get": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Get Next Steps",
        "description": "Get next available steps in the journey",
        "operationId": "get_next_steps_api_agents_journey__journey_id__next_steps_get",
        "parameters": [
          {
            "name": "journey_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Journey Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/compliance/track": {
      "post": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Add Compliance Tracking",
        "description": "\u26a0\ufe0f AGENT 2: Proactive Compliance Monitor\n\nTrack compliance deadlines and get automatic alerts (60/30/7 days before)\n\nSupported types:\n- visa_expiry: KITAS, KITAP, passport expiry\n- tax_filing: SPT Tahunan, PPh, PPn deadlines\n- license_renewal: IMTA, NIB, business permits\n- regulatory_change: Law/regulation changes",
        "operationId": "add_compliance_tracking_api_agents_compliance_track_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddComplianceItemRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/compliance/alerts": {
      "get": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Get Compliance Alerts",
        "description": "Get upcoming compliance alerts\n\nArgs:\n    client_id: Filter by client\n    severity: Filter by severity\n    auto_notify: Automatically send notifications for alerts",
        "operationId": "get_compliance_alerts_api_agents_compliance_alerts_get",
        "parameters": [
          {
            "name": "client_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Client Id"
            }
          },
          {
            "name": "severity",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Severity"
            }
          },
          {
            "name": "auto_notify",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Auto Notify"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/compliance/client/{client_id}": {
      "get": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Get Client Compliance",
        "description": "Get all compliance items for a client",
        "operationId": "get_client_compliance_api_agents_compliance_client__client_id__get",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/knowledge-graph/extract": {
      "post": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Extract Knowledge Graph",
        "description": "\ud83e\udde0 AGENT 3: Knowledge Graph Builder\n\nExtract entities and relationships from text to build knowledge graph\n\nEntities: Person, Organization, Location, Document, Concept\nRelationships: WORKS_FOR, LOCATED_IN, REQUIRES, RELATED_TO, etc.",
        "operationId": "extract_knowledge_graph_api_agents_knowledge_graph_extract_post",
        "parameters": [
          {
            "name": "text",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Text to extract entities and relationships from",
              "title": "Text"
            },
            "description": "Text to extract entities and relationships from"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/knowledge-graph/export": {
      "get": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Export Knowledge Graph",
        "description": "Export knowledge graph in Neo4j-ready format\n\n\u26a0\ufe0f PLACEHOLDER ENDPOINT: Service not implemented\nKnowledge Graph builder exists but export functionality is not wired.\n\nFormats:\n- neo4j: Cypher queries for Neo4j\n- json: JSON format\n- graphml: GraphML format",
        "operationId": "export_knowledge_graph_api_agents_knowledge_graph_export_get",
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "neo4j",
              "title": "Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/ingestion/run": {
      "post": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Run Auto Ingestion",
        "description": "\ud83e\udd16 AGENT 4: Auto Ingestion Orchestrator\n\n\u26a0\ufe0f PLACEHOLDER ENDPOINT: Service exists but not wired into main_cloud.py\nThe AutoIngestionOrchestrator service is implemented but not initialized.\n\nAutomatically monitor and ingest updates from government sources\n\nSources:\n- https://jdih.kemenkeu.go.id (Tax regulations)\n- https://peraturan.bpk.go.id (Legal documents)\n- https://jdih.kemendag.go.id (Trade regulations)\n- https://ortax.org (Tax news)",
        "operationId": "run_auto_ingestion_api_agents_ingestion_run_post",
        "parameters": [
          {
            "name": "force",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Force"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Sources"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/ingestion/status": {
      "get": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Get Ingestion Status",
        "description": "Get status of automatic ingestion service",
        "operationId": "get_ingestion_status_api_agents_ingestion_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/agents/synthesis/cross-oracle": {
      "post": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Cross Oracle Synthesis",
        "description": "\ud83d\udd0d AGENT 5: Cross-Oracle Synthesis\n\nSearch across multiple Oracle collections and synthesize results",
        "operationId": "cross_oracle_synthesis_api_agents_synthesis_cross_oracle_post",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Query"
            }
          },
          {
            "name": "domains",
            "in": "query",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Domains to search: tax, legal, property, visa, kbli",
              "title": "Domains"
            },
            "description": "Domains to search: tax, legal, property, visa, kbli"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/pricing/calculate": {
      "post": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Calculate Dynamic Pricing",
        "description": "\ud83d\udcb0 AGENT 6: Dynamic Pricing Service\n\nCalculate pricing based on service type, complexity, and urgency",
        "operationId": "calculate_dynamic_pricing_api_agents_pricing_calculate_post",
        "parameters": [
          {
            "name": "service_type",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Type"
            }
          },
          {
            "name": "complexity",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "standard",
              "title": "Complexity"
            }
          },
          {
            "name": "urgency",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "normal",
              "title": "Urgency"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/research/autonomous": {
      "post": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Run Autonomous Research",
        "description": "\ud83d\udd2c AGENT 7: Autonomous Research Service\n\nConduct autonomous research on a topic using multiple sources",
        "operationId": "run_autonomous_research_api_agents_research_autonomous_post",
        "parameters": [
          {
            "name": "topic",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Topic"
            }
          },
          {
            "name": "depth",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "standard",
              "title": "Depth"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Sources"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/analytics/summary": {
      "get": {
        "tags": [
          "agentic-functions"
        ],
        "summary": "Get Analytics Summary",
        "description": "Get comprehensive analytics for all agentic functions\n\nPerformance: Cached for 3 minutes (reduces database load)",
        "operationId": "get_analytics_summary_api_agents_analytics_summary_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/autonomous-agents/conversation-trainer/run": {
      "post": {
        "tags": [
          "autonomous-tier1"
        ],
        "summary": "Run Conversation Trainer",
        "description": "\ud83e\udd16 Run Conversation Quality Trainer Agent\n\nAnalyzes high-rated conversations and generates prompt improvements\n\nArgs:\n    days_back: Number of days to look back for conversations (default: 7)\n\nReturns:\n    Execution status (agent runs in background)",
        "operationId": "run_conversation_trainer_api_autonomous_agents_conversation_trainer_run_post",
        "parameters": [
          {
            "name": "days_back",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 7,
              "title": "Days Back"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentExecutionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/autonomous-agents/client-value-predictor/run": {
      "post": {
        "tags": [
          "autonomous-tier1"
        ],
        "summary": "Run Client Value Predictor",
        "description": "\ud83d\udcb0 Run Client LTV Predictor & Nurturing Agent\n\nScores all clients and sends personalized nurturing messages to:\n- VIP clients (LTV > 80)\n- High-risk clients (LTV < 30 and inactive > 30 days)\n\nReturns:\n    Execution status (agent runs in background)",
        "operationId": "run_client_value_predictor_api_autonomous_agents_client_value_predictor_run_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentExecutionResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/autonomous-agents/knowledge-graph-builder/run": {
      "post": {
        "tags": [
          "autonomous-tier1"
        ],
        "summary": "Run Knowledge Graph Builder",
        "description": "\ud83d\udd78\ufe0f Run Knowledge Graph Builder Agent\n\nExtracts entities and relationships from conversations and builds knowledge graph\n\nArgs:\n    days_back: Number of days to look back for conversations (default: 30)\n    init_schema: Initialize database schema (default: False)\n\nReturns:\n    Execution status (agent runs in background)",
        "operationId": "run_knowledge_graph_builder_api_autonomous_agents_knowledge_graph_builder_run_post",
        "parameters": [
          {
            "name": "days_back",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 30,
              "title": "Days Back"
            }
          },
          {
            "name": "init_schema",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Init Schema"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentExecutionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/autonomous-agents/status": {
      "get": {
        "tags": [
          "autonomous-tier1"
        ],
        "summary": "Get Autonomous Agents Status",
        "description": "Get status of all Tier 1 autonomous agents\n\nReturns:\n    Agent capabilities and recent executions",
        "operationId": "get_autonomous_agents_status_api_autonomous_agents_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/autonomous-agents/executions/{execution_id}": {
      "get": {
        "tags": [
          "autonomous-tier1"
        ],
        "summary": "Get Execution Status",
        "description": "Get status of a specific agent execution\n\nArgs:\n    execution_id: Execution ID returned by agent run endpoint\n\nReturns:\n    Execution details and result",
        "operationId": "get_execution_status_api_autonomous_agents_executions__execution_id__get",
        "parameters": [
          {
            "name": "execution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Execution Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentExecutionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/autonomous-agents/executions": {
      "get": {
        "tags": [
          "autonomous-tier1"
        ],
        "summary": "List Executions",
        "description": "List recent agent executions\n\nArgs:\n    limit: Maximum number of executions to return (default: 20)\n\nReturns:\n    List of recent executions",
        "operationId": "list_executions_api_autonomous_agents_executions_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/bali-zero/conversations/save": {
      "post": {
        "tags": [
          "conversations"
        ],
        "summary": "Save Conversation",
        "description": "Save conversation messages to PostgreSQL\n+ Auto-populate CRM with client/practice data\n\nBody:\n{\n    \"user_email\": \"user@example.com\",\n    \"messages\": [{\"role\": \"user\", \"content\": \"...\"}, ...],\n    \"session_id\": \"optional-session-id\",\n    \"metadata\": {\"key\": \"value\"}\n}\n\nReturns:\n{\n    \"success\": true,\n    \"conversation_id\": 123,\n    \"messages_saved\": 10,\n    \"crm\": {\n        \"processed\": true,\n        \"client_id\": 42,\n        \"client_created\": false,\n        \"client_updated\": true,\n        \"practice_id\": 15,\n        \"practice_created\": true,\n        \"interaction_id\": 88\n    }\n}",
        "operationId": "save_conversation_api_bali_zero_conversations_save_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SaveConversationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/bali-zero/conversations/history": {
      "get": {
        "tags": [
          "conversations"
        ],
        "summary": "Get Conversation History",
        "description": "Get conversation history for a user\n\nQuery params:\n- user_email: User's email address\n- limit: Max number of messages to return (default: 20)\n- session_id: Optional session filter",
        "operationId": "get_conversation_history_api_bali_zero_conversations_history_get",
        "parameters": [
          {
            "name": "user_email",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Email"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "session_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationHistoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/bali-zero/conversations/clear": {
      "delete": {
        "tags": [
          "conversations"
        ],
        "summary": "Clear Conversation History",
        "description": "Clear conversation history for a user\n\nQuery params:\n- user_email: User's email address\n- session_id: Optional session filter (if omitted, clears ALL conversations for user)",
        "operationId": "clear_conversation_history_api_bali_zero_conversations_clear_delete",
        "parameters": [
          {
            "name": "user_email",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Email"
            }
          },
          {
            "name": "session_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/bali-zero/conversations/stats": {
      "get": {
        "tags": [
          "conversations"
        ],
        "summary": "Get Conversation Stats",
        "description": "Get conversation statistics for a user\n\nQuery params:\n- user_email: User's email address",
        "operationId": "get_conversation_stats_api_bali_zero_conversations_stats_get",
        "parameters": [
          {
            "name": "user_email",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/clients/": {
      "post": {
        "tags": [
          "crm-clients"
        ],
        "summary": "Create Client",
        "description": "Create a new client\n\n- **full_name**: Client's full name (required)\n- **email**: Email address (optional but recommended)\n- **phone**: Phone number\n- **whatsapp**: WhatsApp number (can be same as phone)\n- **nationality**: Client's nationality\n- **passport_number**: Passport number\n- **assigned_to**: Team member email to assign client to\n- **tags**: Array of tags (e.g., ['vip', 'urgent'])",
        "operationId": "create_client_api_crm_clients__post",
        "parameters": [
          {
            "name": "created_by",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Team member email creating this client",
              "title": "Created By"
            },
            "description": "Team member email creating this client"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClientCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClientResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "crm-clients"
        ],
        "summary": "List Clients",
        "description": "List all clients with optional filtering\n\n- **status**: Filter by client status\n- **assigned_to**: Filter by assigned team member\n- **search**: Search in name, email, phone fields\n- **limit**: Max results (default: 50, max: 200)\n- **offset**: For pagination",
        "operationId": "list_clients_api_crm_clients__get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status: active, inactive, prospect",
              "title": "Status"
            },
            "description": "Filter by status: active, inactive, prospect"
          },
          {
            "name": "assigned_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by assigned team member email",
              "title": "Assigned To"
            },
            "description": "Filter by assigned team member email"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name, email, or phone",
              "title": "Search"
            },
            "description": "Search by name, email, or phone"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "description": "Max results to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Max results to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Offset for pagination",
              "default": 0,
              "title": "Offset"
            },
            "description": "Offset for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ClientResponse"
                  },
                  "title": "Response List Clients Api Crm Clients  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/clients/{client_id}": {
      "get": {
        "tags": [
          "crm-clients"
        ],
        "summary": "Get Client",
        "description": "Get client by ID",
        "operationId": "get_client_api_crm_clients__client_id__get",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClientResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "crm-clients"
        ],
        "summary": "Update Client",
        "description": "Update client information\n\nOnly provided fields will be updated. Other fields remain unchanged.",
        "operationId": "update_client_api_crm_clients__client_id__patch",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          },
          {
            "name": "updated_by",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Team member making the update",
              "title": "Updated By"
            },
            "description": "Team member making the update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClientUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClientResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "crm-clients"
        ],
        "summary": "Delete Client",
        "description": "Delete a client (soft delete - marks as inactive)\n\nThis doesn't permanently delete the client, just marks them as inactive.\nUse with caution as this will also affect related practices and interactions.",
        "operationId": "delete_client_api_crm_clients__client_id__delete",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          },
          {
            "name": "deleted_by",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Team member deleting the client",
              "title": "Deleted By"
            },
            "description": "Team member deleting the client"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/clients/by-email/{email}": {
      "get": {
        "tags": [
          "crm-clients"
        ],
        "summary": "Get Client By Email",
        "description": "Get client by email address",
        "operationId": "get_client_by_email_api_crm_clients_by_email__email__get",
        "parameters": [
          {
            "name": "email",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/clients/{client_id}/summary": {
      "get": {
        "tags": [
          "crm-clients"
        ],
        "summary": "Get Client Summary",
        "description": "Get comprehensive client summary including:\n- Basic client info\n- All practices (active + completed)\n- Recent interactions\n- Documents\n- Upcoming renewals",
        "operationId": "get_client_summary_api_crm_clients__client_id__summary_get",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/clients/stats/overview": {
      "get": {
        "tags": [
          "crm-clients"
        ],
        "summary": "Get Clients Stats",
        "description": "Get overall client statistics\n\nReturns counts by status, top assigned team members, etc.",
        "operationId": "get_clients_stats_api_crm_clients_stats_overview_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/crm/interactions/": {
      "post": {
        "tags": [
          "crm-interactions"
        ],
        "summary": "Create Interaction",
        "description": "Log a new interaction\n\n**Types:**\n- chat: Web chat conversation\n- email: Email exchange\n- whatsapp: WhatsApp message\n- call: Phone call\n- meeting: In-person or video meeting\n- note: Internal note/comment\n\n**Channels:**\n- web_chat: ZANTARA chat widget\n- gmail: Gmail integration\n- whatsapp: WhatsApp Business\n- phone: Phone call\n- in_person: Face-to-face meeting",
        "operationId": "create_interaction_api_crm_interactions__post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InteractionCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InteractionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "crm-interactions"
        ],
        "summary": "List Interactions",
        "description": "List interactions with optional filtering",
        "operationId": "list_interactions_api_crm_interactions__get",
        "parameters": [
          {
            "name": "client_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by client",
              "title": "Client Id"
            },
            "description": "Filter by client"
          },
          {
            "name": "practice_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by practice",
              "title": "Practice Id"
            },
            "description": "Filter by practice"
          },
          {
            "name": "team_member",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by team member",
              "title": "Team Member"
            },
            "description": "Filter by team member"
          },
          {
            "name": "interaction_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by type",
              "title": "Interaction Type"
            },
            "description": "Filter by type"
          },
          {
            "name": "sentiment",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by sentiment",
              "title": "Sentiment"
            },
            "description": "Filter by sentiment"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object"
                  },
                  "title": "Response List Interactions Api Crm Interactions  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/interactions/{interaction_id}": {
      "get": {
        "tags": [
          "crm-interactions"
        ],
        "summary": "Get Interaction",
        "description": "Get full interaction details by ID",
        "operationId": "get_interaction_api_crm_interactions__interaction_id__get",
        "parameters": [
          {
            "name": "interaction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Interaction Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/interactions/client/{client_id}/timeline": {
      "get": {
        "tags": [
          "crm-interactions"
        ],
        "summary": "Get Client Timeline",
        "description": "Get complete interaction timeline for a client\n\nReturns all interactions sorted by date (newest first)",
        "operationId": "get_client_timeline_api_crm_interactions_client__client_id__timeline_get",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/interactions/practice/{practice_id}/history": {
      "get": {
        "tags": [
          "crm-interactions"
        ],
        "summary": "Get Practice History",
        "description": "Get all interactions related to a specific practice\n\nUseful for tracking communication history for a KITAS, PT PMA, etc.",
        "operationId": "get_practice_history_api_crm_interactions_practice__practice_id__history_get",
        "parameters": [
          {
            "name": "practice_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Practice Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/interactions/stats/overview": {
      "get": {
        "tags": [
          "crm-interactions"
        ],
        "summary": "Get Interactions Stats",
        "description": "Get interaction statistics\n\n- Total interactions\n- By type (chat, email, call, etc.)\n- By sentiment\n- By team member",
        "operationId": "get_interactions_stats_api_crm_interactions_stats_overview_get",
        "parameters": [
          {
            "name": "team_member",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Stats for specific team member",
              "title": "Team Member"
            },
            "description": "Stats for specific team member"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/interactions/from-conversation": {
      "post": {
        "tags": [
          "crm-interactions"
        ],
        "summary": "Create Interaction From Conversation",
        "description": "Auto-create interaction record from a chat conversation\n\nThis is called automatically when a chat session ends or at intervals",
        "operationId": "create_interaction_from_conversation_api_crm_interactions_from_conversation_post",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          },
          {
            "name": "client_email",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Client Email"
            }
          },
          {
            "name": "team_member",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Team Member"
            }
          },
          {
            "name": "summary",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "AI-generated summary",
              "title": "Summary"
            },
            "description": "AI-generated summary"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/interactions/sync-gmail": {
      "post": {
        "tags": [
          "crm-interactions"
        ],
        "summary": "Sync Gmail Interactions",
        "description": "Manually trigger Gmail sync to Auto-CRM",
        "operationId": "sync_gmail_interactions_api_crm_interactions_sync_gmail_post",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Max emails to process",
              "default": 5,
              "title": "Limit"
            },
            "description": "Max emails to process"
          },
          {
            "name": "team_member",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Team member handling sync",
              "default": "system",
              "title": "Team Member"
            },
            "description": "Team member handling sync"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/practices/": {
      "post": {
        "tags": [
          "crm-practices"
        ],
        "summary": "Create Practice",
        "description": "Create a new practice for a client\n\n- **client_id**: ID of the client\n- **practice_type_code**: Practice type code (retrieved from database)\n- **status**: Initial status (default: 'inquiry')\n- **quoted_price**: Price quoted to client\n- **assigned_to**: Team member email to handle this",
        "operationId": "create_practice_api_crm_practices__post",
        "parameters": [
          {
            "name": "created_by",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Team member creating this practice",
              "title": "Created By"
            },
            "description": "Team member creating this practice"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PracticeCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PracticeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "crm-practices"
        ],
        "summary": "List Practices",
        "description": "List practices with optional filtering\n\nReturns practices with client and practice type information joined",
        "operationId": "list_practices_api_crm_practices__get",
        "parameters": [
          {
            "name": "client_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by client ID",
              "title": "Client Id"
            },
            "description": "Filter by client ID"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status",
              "title": "Status"
            },
            "description": "Filter by status"
          },
          {
            "name": "assigned_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by assigned team member",
              "title": "Assigned To"
            },
            "description": "Filter by assigned team member"
          },
          {
            "name": "practice_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by practice type code",
              "title": "Practice Type"
            },
            "description": "Filter by practice type code"
          },
          {
            "name": "priority",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by priority",
              "title": "Priority"
            },
            "description": "Filter by priority"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object"
                  },
                  "title": "Response List Practices Api Crm Practices  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/practices/active": {
      "get": {
        "tags": [
          "crm-practices"
        ],
        "summary": "Get Active Practices",
        "description": "Get all active practices (in progress, not completed/cancelled)\n\nOptionally filter by assigned team member",
        "operationId": "get_active_practices_api_crm_practices_active_get",
        "parameters": [
          {
            "name": "assigned_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Assigned To"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/practices/renewals/upcoming": {
      "get": {
        "tags": [
          "crm-practices"
        ],
        "summary": "Get Upcoming Renewals",
        "description": "Get practices with upcoming renewal dates\n\nDefault: next 90 days",
        "operationId": "get_upcoming_renewals_api_crm_practices_renewals_upcoming_get",
        "parameters": [
          {
            "name": "_days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Days to look ahead",
              "default": 90,
              "title": " Days"
            },
            "description": "Days to look ahead"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/practices/{practice_id}": {
      "get": {
        "tags": [
          "crm-practices"
        ],
        "summary": "Get Practice",
        "description": "Get practice details by ID with full client and type info",
        "operationId": "get_practice_api_crm_practices__practice_id__get",
        "parameters": [
          {
            "name": "practice_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Practice Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "crm-practices"
        ],
        "summary": "Update Practice",
        "description": "Update practice information\n\nCommon status values:\n- inquiry\n- quotation_sent\n- payment_pending\n- in_progress\n- waiting_documents\n- submitted_to_gov\n- approved\n- completed\n- cancelled",
        "operationId": "update_practice_api_crm_practices__practice_id__patch",
        "parameters": [
          {
            "name": "practice_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Practice Id"
            }
          },
          {
            "name": "updated_by",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Team member making the update",
              "title": "Updated By"
            },
            "description": "Team member making the update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PracticeUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/practices/{practice_id}/documents/add": {
      "post": {
        "tags": [
          "crm-practices"
        ],
        "summary": "Add Document To Practice",
        "description": "Add a document to a practice\n\n- **document_name**: Name/type of document (e.g., \"Passport Copy\")\n- **drive_file_id**: Google Drive file ID\n- **uploaded_by**: Email of person uploading",
        "operationId": "add_document_to_practice_api_crm_practices__practice_id__documents_add_post",
        "parameters": [
          {
            "name": "practice_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Practice Id"
            }
          },
          {
            "name": "document_name",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Name"
            }
          },
          {
            "name": "drive_file_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Drive File Id"
            }
          },
          {
            "name": "uploaded_by",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Uploaded By"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/practices/stats/overview": {
      "get": {
        "tags": [
          "crm-practices"
        ],
        "summary": "Get Practices Stats",
        "description": "Get overall practice statistics\n\n- Counts by status\n- Counts by practice type\n- Revenue metrics",
        "operationId": "get_practices_stats_api_crm_practices_stats_overview_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/crm/shared-memory/search": {
      "get": {
        "tags": [
          "crm-shared-memory"
        ],
        "summary": "Search Shared Memory",
        "description": "Natural language search across CRM data\n\nExamples:\n- \"clients with KITAS expiring soon\"\n- \"active practices for John Smith\"\n- \"recent interactions with antonello@balizero.com\"\n- \"urgent practices\"\n- \"PT PMA practices in progress\"\n\nReturns relevant results from clients, practices, and interactions",
        "operationId": "search_shared_memory_api_crm_shared_memory_search_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Natural language query",
              "title": "Q"
            },
            "description": "Natural language query"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/shared-memory/upcoming-renewals": {
      "get": {
        "tags": [
          "crm-shared-memory"
        ],
        "summary": "Get Upcoming Renewals",
        "description": "Get all practices with upcoming renewal dates\n\nDefault: next 90 days",
        "operationId": "get_upcoming_renewals_api_crm_shared_memory_upcoming_renewals_get",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Look ahead days",
              "default": 90,
              "title": "Days"
            },
            "description": "Look ahead days"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/shared-memory/client/{client_id}/full-context": {
      "get": {
        "tags": [
          "crm-shared-memory"
        ],
        "summary": "Get Client Full Context",
        "description": "Get complete context for a client\nEverything the AI needs to know about this client\n\nReturns:\n- Client info\n- All practices (active + completed)\n- Recent interactions (last 20)\n- Upcoming renewals\n- Action items",
        "operationId": "get_client_full_context_api_crm_shared_memory_client__client_id__full_context_get",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/crm/shared-memory/team-overview": {
      "get": {
        "tags": [
          "crm-shared-memory"
        ],
        "summary": "Get Team Overview",
        "description": "Get team-wide CRM overview\n\nPerfect for dashboard or team queries like:\n- \"How many active practices do we have?\"\n- \"What's our workload distribution?\"\n- \"Recent activity summary\"",
        "operationId": "get_team_overview_api_crm_shared_memory_team_overview_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/ingest/upload": {
      "post": {
        "tags": [
          "ingestion"
        ],
        "summary": "Upload And Ingest",
        "description": "Upload and ingest a single book.\n\n- **file**: PDF or EPUB file\n- **title**: Optional book title (auto-detected if not provided)\n- **author**: Optional author name\n- **tier_override**: Optional manual tier (S/A/B/C/D)",
        "operationId": "upload_and_ingest_api_ingest_upload_post",
        "parameters": [
          {
            "name": "title",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Title"
            }
          },
          {
            "name": "author",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Author"
            }
          },
          {
            "name": "tier_override",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/TierLevel"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tier Override"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_and_ingest_api_ingest_upload_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookIngestionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/ingest/file": {
      "post": {
        "tags": [
          "ingestion"
        ],
        "summary": "Ingest Local File",
        "description": "Ingest a book from local file path.\n\n- **file_path**: Path to PDF or EPUB file\n- **title**: Optional book title\n- **author**: Optional author name\n- **tier_override**: Optional manual tier classification",
        "operationId": "ingest_local_file_api_ingest_file_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookIngestionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookIngestionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/ingest/batch": {
      "post": {
        "tags": [
          "ingestion"
        ],
        "summary": "Batch Ingest",
        "description": "Process all books in a directory.\n\n- **directory_path**: Path to directory containing books\n- **file_patterns**: File patterns to match (default: [\"*.pdf\", \"*.epub\"])\n- **skip_existing**: Skip books already in database",
        "operationId": "batch_ingest_api_ingest_batch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchIngestionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchIngestionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/ingest/stats": {
      "get": {
        "tags": [
          "ingestion"
        ],
        "summary": "Get Ingestion Stats",
        "description": "Get current database statistics.\n\nReturns total documents, tier distribution, and collection info.",
        "operationId": "get_ingestion_stats_api_ingest_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/intel/search": {
      "post": {
        "summary": "Search Intel",
        "description": "Search intel news with semantic search",
        "operationId": "search_intel_api_intel_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntelSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/intel/store": {
      "post": {
        "summary": "Store Intel",
        "description": "Store intel news item in Qdrant",
        "operationId": "store_intel_api_intel_store_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntelStoreRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/intel/critical": {
      "get": {
        "summary": "Get Critical Items",
        "description": "Get critical impact items",
        "operationId": "get_critical_items_api_intel_critical_get",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Category"
            }
          },
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 7,
              "title": "Days"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/intel/trends": {
      "get": {
        "summary": "Get Trends",
        "description": "Get trending topics and keywords",
        "operationId": "get_trends_api_intel_trends_get",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Category"
            }
          },
          {
            "name": "_days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 30,
              "title": " Days"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/intel/stats/{collection}": {
      "get": {
        "summary": "Get Collection Stats",
        "description": "Get statistics for a specific intel collection",
        "operationId": "get_collection_stats_api_intel_stats__collection__get",
        "parameters": [
          {
            "name": "collection",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/memory/init": {
      "post": {
        "tags": [
          "memory"
        ],
        "summary": "Init Memory Collection",
        "description": "Reinitialize the semantic memory collection after deployments or resets.",
        "operationId": "init_memory_collection_api_memory_init_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InitRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InitResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/memory/embed": {
      "post": {
        "tags": [
          "memory"
        ],
        "summary": "Generate Embedding",
        "description": "Generate embedding for text.\nUses sentence-transformers (FREE, local) by default.",
        "operationId": "generate_embedding_api_memory_embed_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmbedRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmbedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/memory/store": {
      "post": {
        "tags": [
          "memory"
        ],
        "summary": "Store Memory Vector",
        "description": "Store memory in Qdrant for semantic search.\n\nMetadata should include:\n- userId: User ID\n- type: Memory type (profile, expertise, event, etc)\n- timestamp: ISO timestamp\n- entities: Comma-separated entities",
        "operationId": "store_memory_vector_api_memory_store_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StoreMemoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/memory/search": {
      "post": {
        "tags": [
          "memory"
        ],
        "summary": "Search Memories Semantic",
        "description": "Semantic search across all memories using vector similarity.\n\nSupports metadata filtering:\n- userId: Filter by specific user\n- entities: Filter by entity (use {\"entities\": {\"$contains\": \"zero\"}})",
        "operationId": "search_memories_semantic_api_memory_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchMemoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MemorySearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/memory/similar": {
      "post": {
        "tags": [
          "memory"
        ],
        "summary": "Find Similar Memories",
        "description": "Find memories similar to a given memory.\nUses the stored memory's embedding to find neighbors.",
        "operationId": "find_similar_memories_api_memory_similar_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SimilarMemoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MemorySearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/memory/{memory_id}": {
      "delete": {
        "tags": [
          "memory"
        ],
        "summary": "Delete Memory Vector",
        "description": "Delete memory from vector store",
        "operationId": "delete_memory_vector_api_memory__memory_id__delete",
        "parameters": [
          {
            "name": "memory_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Memory Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/memory/stats": {
      "get": {
        "tags": [
          "memory"
        ],
        "summary": "Get Memory Stats",
        "description": "Get memory collection statistics",
        "operationId": "get_memory_stats_api_memory_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/memory/health": {
      "get": {
        "tags": [
          "memory"
        ],
        "summary": "Memory Vector Health",
        "description": "Health check for memory vector service",
        "operationId": "memory_vector_health_api_memory_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/notifications/status": {
      "get": {
        "tags": [
          "notifications"
        ],
        "summary": "Get Notification Status",
        "description": "Get notification hub status and available channels",
        "operationId": "get_notification_status_api_notifications_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/notifications/templates": {
      "get": {
        "tags": [
          "notifications"
        ],
        "summary": "List Notification Templates",
        "description": "List all available notification templates",
        "operationId": "list_notification_templates_api_notifications_templates_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/notifications/send": {
      "post": {
        "tags": [
          "notifications"
        ],
        "summary": "Send Notification",
        "description": "Send a custom notification\n\nAuto-selects channels based on priority:\n- low: In-app only\n- normal: Email + In-app\n- high: Email + WhatsApp + In-app\n- urgent: Email + WhatsApp + SMS + In-app\n- critical: All channels",
        "operationId": "send_notification_api_notifications_send_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendNotificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/notifications/send-template": {
      "post": {
        "tags": [
          "notifications"
        ],
        "summary": "Send Template Notification",
        "description": "Send notification using a predefined template\n\nAvailable templates:\n- compliance_60_days: 60-day compliance reminder\n- compliance_30_days: 30-day compliance alert\n- compliance_7_days: 7-day urgent compliance alert\n- journey_step_completed: Journey step completion\n- journey_completed: Journey completion celebration\n- document_request: Document request\n- payment_reminder: Payment reminder",
        "operationId": "send_template_notification_api_notifications_send_template_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TemplateNotificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/notifications/test": {
      "post": {
        "tags": [
          "notifications"
        ],
        "summary": "Test Notification Channels",
        "description": "Test notification channels with a test message\n\nUseful for verifying configuration",
        "operationId": "test_notification_channels_api_notifications_test_post",
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Email"
            }
          },
          {
            "name": "phone",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Phone"
            }
          },
          {
            "name": "whatsapp",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Whatsapp"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/oracle/ingest": {
      "post": {
        "tags": [
          "Oracle INGEST"
        ],
        "summary": "Ingest Documents",
        "description": "Bulk ingest documents into Qdrant collection\n\n**Usage:**\n```python\nimport requests\n\nchunks = [\n    {\n        \"content\": \"### PP-28-2025 - Pasal 1\\n\\nContent here...\",\n        \"metadata\": {\n            \"law_id\": \"PP-28-2025\",\n            \"pasal\": \"1\",\n            \"category\": \"business_licensing\",\n            \"type\": \"legal_regulation\"\n        }\n    }\n]\n\nresponse = requests.post(\n    \"https://nuzantara-rag.fly.dev/api/oracle/ingest\",\n    json={\"collection\": \"legal_intelligence\", \"documents\": chunks}\n)\n```\n\n**Rate Limits:**\n- Max 1000 documents per request\n- Batch processing for large uploads",
        "operationId": "ingest_documents_api_oracle_ingest_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IngestRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IngestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/oracle/collections": {
      "get": {
        "tags": [
          "Oracle INGEST"
        ],
        "summary": "List Collections",
        "description": "List all available collections\n\n**Returns:**\n- List of collection names\n- Document counts for each collection",
        "operationId": "list_collections_api_oracle_collections_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/oracle/query": {
      "post": {
        "tags": [
          "Oracle v5.3 - Ultra Hybrid"
        ],
        "summary": "Hybrid Oracle Query",
        "description": "Ultra Hybrid Oracle Query - v5.3\n\nIntegrates Qdrant search, Google Drive, and Gemini reasoning\nwith full user localization and context awareness",
        "operationId": "hybrid_oracle_query_api_oracle_query_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OracleQueryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OracleQueryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/oracle/feedback": {
      "post": {
        "tags": [
          "Oracle v5.3 - Ultra Hybrid"
        ],
        "summary": "Submit User Feedback",
        "description": "Submit user feedback for continuous learning and system improvement\nStores feedback for training data and model refinement",
        "operationId": "submit_user_feedback_api_oracle_feedback_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FeedbackRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/oracle/health": {
      "get": {
        "tags": [
          "Oracle v5.3 - Ultra Hybrid"
        ],
        "summary": "Oracle Health Check",
        "description": "Health check for Oracle v5.3 services\nVerifies all integrated components are operational",
        "operationId": "oracle_health_check_api_oracle_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/oracle/user/profile/{user_email}": {
      "get": {
        "tags": [
          "Oracle v5.3 - Ultra Hybrid"
        ],
        "summary": "Get User Profile Endpoint",
        "description": "Get user profile with localization preferences\nIntegrates with PostgreSQL user management system",
        "operationId": "get_user_profile_endpoint_api_oracle_user_profile__user_email__get",
        "parameters": [
          {
            "name": "user_email",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/oracle/drive/test": {
      "get": {
        "tags": [
          "Oracle v5.3 - Ultra Hybrid"
        ],
        "summary": "Test Drive Connection",
        "description": "Test Google Drive integration",
        "operationId": "test_drive_connection_api_oracle_drive_test_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/oracle/personalities": {
      "get": {
        "tags": [
          "Oracle v5.3 - Ultra Hybrid"
        ],
        "summary": "Get Personalities",
        "description": "Get available AI personalities",
        "operationId": "get_personalities_api_oracle_personalities_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/oracle/personality/test": {
      "post": {
        "tags": [
          "Oracle v5.3 - Ultra Hybrid"
        ],
        "summary": "Test Personality",
        "description": "Test a specific personality",
        "operationId": "test_personality_api_oracle_personality_test_post",
        "parameters": [
          {
            "name": "personality_type",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Personality Type"
            }
          },
          {
            "name": "message",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Message"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/oracle/gemini/test": {
      "get": {
        "tags": [
          "Oracle v5.3 - Ultra Hybrid"
        ],
        "summary": "Test Gemini Integration",
        "description": "Test Google Gemini integration",
        "operationId": "test_gemini_integration_api_oracle_gemini_test_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/productivity/gmail/draft": {
      "post": {
        "tags": [
          "productivity"
        ],
        "summary": "Draft Email",
        "description": "Draft an email in Gmail",
        "operationId": "draft_email_api_productivity_gmail_draft_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailDraft"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/productivity/calendar/schedule": {
      "post": {
        "tags": [
          "productivity"
        ],
        "summary": "Schedule Meeting",
        "description": "Schedule a meeting in Google Calendar",
        "operationId": "schedule_meeting_api_productivity_calendar_schedule_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CalendarEvent"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/productivity/calendar/events": {
      "get": {
        "tags": [
          "productivity"
        ],
        "summary": "List Events",
        "description": "List upcoming calendar events",
        "operationId": "list_events_api_productivity_calendar_events_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/productivity/drive/search": {
      "get": {
        "tags": [
          "productivity"
        ],
        "summary": "Search Drive",
        "description": "Search Google Drive files",
        "operationId": "search_drive_api_productivity_drive_search_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Query"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/team/seed-team": {
      "post": {
        "tags": [
          "identity"
        ],
        "summary": "Seed Team Endpoint",
        "description": "TEMPORARY: Seed team members database\nTODO: Remove this endpoint after seeding",
        "operationId": "seed_team_endpoint_api_auth_team_seed_team_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Seed Team Endpoint Api Auth Team Seed Team Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/team/run-migration-010": {
      "post": {
        "tags": [
          "identity"
        ],
        "summary": "Run Migration 010",
        "description": "TEMPORARY: Execute migration 010 to fix team_members schema\nTODO: Remove this endpoint after migration is applied",
        "operationId": "run_migration_010_api_auth_team_run_migration_010_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Run Migration 010 Api Auth Team Run Migration 010 Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/team/debug-auth": {
      "get": {
        "tags": [
          "identity"
        ],
        "summary": "Debug Auth",
        "description": "TEMPORARY: Debug authentication - analizza l'hash nel database\nTODO: Remove this endpoint after debugging",
        "operationId": "debug_auth_api_auth_team_debug_auth_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Debug Auth Api Auth Team Debug Auth Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/team/reset-admin": {
      "post": {
        "tags": [
          "identity"
        ],
        "summary": "Reset Admin User",
        "description": "TEMPORARY: Reset admin user (zero@balizero.com) with PIN 010719\nTODO: Remove this endpoint after admin is set up",
        "operationId": "reset_admin_user_api_auth_team_reset_admin_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Reset Admin User Api Auth Team Reset Admin Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/team/login": {
      "post": {
        "tags": [
          "identity"
        ],
        "summary": "Team Login",
        "description": "Team member login endpoint\n\nReplicates the exact behavior of Node.js /api/auth/team/login endpoint.\n\n- Validates email and PIN format\n- Authenticates user against database\n- Generates JWT token (7 days expiry)\n- Returns user data and permissions\n\nReturns:\n    LoginResponse with JWT token and user data",
        "operationId": "team_login_api_auth_team_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/app__modules__identity__router__LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/app__modules__identity__router__LoginResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/search/": {
      "post": {
        "tags": [
          "knowledge"
        ],
        "summary": "Semantic Search",
        "description": "Semantic search with tier-based access control.\n\n- **query**: Search query text\n- **level**: User access level (0-3)\n- **limit**: Maximum results (1-50, default 5)\n- **tier_filter**: Optional specific tier filter\n\nReturns relevant book chunks filtered by user's access level.",
        "operationId": "semantic_search_api_search__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchQuery"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/search/health": {
      "get": {
        "tags": [
          "knowledge"
        ],
        "summary": "Search Health",
        "description": "Quick health check for search service",
        "operationId": "search_health_api_search_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Search Health Api Search Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/team/clock-in": {
      "post": {
        "tags": [
          "team-activity"
        ],
        "summary": "Clock In",
        "description": "Clock in for work day\n\nTeam members use this to start their work day.\nOne clock-in per day allowed.",
        "operationId": "clock_in_api_team_clock_in_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClockInRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClockResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/team/clock-out": {
      "post": {
        "tags": [
          "team-activity"
        ],
        "summary": "Clock Out",
        "description": "Clock out for work day\n\nTeam members use this to end their work day.\nMust be clocked in first.",
        "operationId": "clock_out_api_team_clock_out_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClockOutRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClockResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/team/my-status": {
      "get": {
        "tags": [
          "team-activity"
        ],
        "summary": "Get My Status",
        "description": "Get my current work status\n\nReturns:\n- Current online/offline status\n- Today's hours worked\n- This week's summary",
        "operationId": "get_my_status_api_team_my_status_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "User ID",
              "title": "User Id"
            },
            "description": "User ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/team/status": {
      "get": {
        "tags": [
          "team-activity"
        ],
        "summary": "Get Team Status",
        "description": "Get current online status of all team members (ADMIN ONLY)\n\nShows who is currently clocked in and who is offline.",
        "operationId": "get_team_status_api_team_status_get",
        "parameters": [
          {
            "name": "-authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "-Authorization"
            }
          },
          {
            "name": "x-user-email",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-User-Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TeamMemberStatus"
                  },
                  "title": "Response Get Team Status Api Team Status Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/team/hours": {
      "get": {
        "tags": [
          "team-activity"
        ],
        "summary": "Get Daily Hours",
        "description": "Get work hours for a specific date (ADMIN ONLY)\n\nReturns all team members' work hours for the specified date.",
        "operationId": "get_daily_hours_api_team_hours_get",
        "parameters": [
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Date (YYYY-MM-DD, defaults to today)",
              "title": "Date"
            },
            "description": "Date (YYYY-MM-DD, defaults to today)"
          },
          {
            "name": "-authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "-Authorization"
            }
          },
          {
            "name": "x-user-email",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-User-Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DailyHours"
                  },
                  "title": "Response Get Daily Hours Api Team Hours Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/team/activity/weekly": {
      "get": {
        "tags": [
          "team-activity"
        ],
        "summary": "Get Weekly Summary",
        "description": "Get weekly work summary (ADMIN ONLY)\n\nReturns total hours, days worked, and averages for each team member.",
        "operationId": "get_weekly_summary_api_team_activity_weekly_get",
        "parameters": [
          {
            "name": "week_start",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Week start date (YYYY-MM-DD)",
              "title": "Week Start"
            },
            "description": "Week start date (YYYY-MM-DD)"
          },
          {
            "name": "-authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "-Authorization"
            }
          },
          {
            "name": "x-user-email",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-User-Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WeeklySummary"
                  },
                  "title": "Response Get Weekly Summary Api Team Activity Weekly Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/team/activity/monthly": {
      "get": {
        "tags": [
          "team-activity"
        ],
        "summary": "Get Monthly Summary",
        "description": "Get monthly work summary (ADMIN ONLY)\n\nReturns total hours, days worked, and averages for each team member.",
        "operationId": "get_monthly_summary_api_team_activity_monthly_get",
        "parameters": [
          {
            "name": "month_start",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Month start date (YYYY-MM-DD)",
              "title": "Month Start"
            },
            "description": "Month start date (YYYY-MM-DD)"
          },
          {
            "name": "-authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "-Authorization"
            }
          },
          {
            "name": "x-user-email",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-User-Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MonthlySummary"
                  },
                  "title": "Response Get Monthly Summary Api Team Activity Monthly Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/team/export": {
      "get": {
        "tags": [
          "team-activity"
        ],
        "summary": "Export Timesheet",
        "description": "Export timesheet data (ADMIN ONLY)\n\nReturns CSV file with all work hours in the specified date range.",
        "operationId": "export_timesheet_api_team_export_get",
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Start date (YYYY-MM-DD)",
              "title": "Start Date"
            },
            "description": "Start date (YYYY-MM-DD)"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "End date (YYYY-MM-DD)",
              "title": "End Date"
            },
            "description": "End date (YYYY-MM-DD)"
          },
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Export format (csv only for now)",
              "default": "csv",
              "title": "Format"
            },
            "description": "Export format (csv only for now)"
          },
          {
            "name": "-authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "-Authorization"
            }
          },
          {
            "name": "x-user-email",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-User-Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/team/health": {
      "get": {
        "tags": [
          "team-activity"
        ],
        "summary": "Health Check",
        "description": "Health check for team activity service",
        "operationId": "health_check_api_team_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/media/generate-image": {
      "post": {
        "tags": [
          "media"
        ],
        "summary": "Generate Image",
        "description": "Generate an image from a text prompt.",
        "operationId": "generate_image_media_generate_image_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImagePrompt"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/image/generate": {
      "post": {
        "tags": [
          "image"
        ],
        "summary": "Generate Image",
        "description": "Generate images using Google Imagen API\n\nArgs:\n    request: Image generation request with prompt and parameters\n\nReturns:\n    ImageGenerationResponse with generated images or error",
        "operationId": "generate_image_api_v1_image_generate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImageGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImageGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/csrf-token": {
      "get": {
        "summary": "Get Csrf Token",
        "description": "Generate CSRF token and session ID for frontend security.\nReturns token in both JSON body and response headers.",
        "operationId": "get_csrf_token_api_csrf_token_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/dashboard/stats": {
      "get": {
        "summary": "Get Dashboard Stats",
        "description": "Provide real-time stats for the Mission Control Dashboard.",
        "operationId": "get_dashboard_stats_api_dashboard_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "tags": [
          "root"
        ],
        "summary": "Root",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/bali-zero/chat-stream": {
      "get": {
        "summary": "Bali Zero Chat Stream",
        "description": "Streaming chat endpoint using IntelligentRouter for RAG-based responses.",
        "operationId": "bali_zero_chat_stream_bali_zero_chat_stream_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Query"
            }
          },
          {
            "name": "user_email",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Email"
            }
          },
          {
            "name": "user_role",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "member",
              "title": "User Role"
            }
          },
          {
            "name": "conversation_history",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Conversation History"
            }
          },
          {
            "name": "auth_token",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Auth Token"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/bali-zero/chat-stream": {
      "get": {
        "summary": "Bali Zero Chat Stream",
        "description": "Streaming chat endpoint using IntelligentRouter for RAG-based responses.",
        "operationId": "bali_zero_chat_stream_api_v2_bali_zero_chat_stream_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Query"
            }
          },
          {
            "name": "user_email",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Email"
            }
          },
          {
            "name": "user_role",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "member",
              "title": "User Role"
            }
          },
          {
            "name": "conversation_history",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Conversation History"
            }
          },
          {
            "name": "auth_token",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Auth Token"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AddComplianceItemRequest": {
        "properties": {
          "client_id": {
            "type": "string",
            "title": "Client Id"
          },
          "compliance_type": {
            "type": "string",
            "title": "Compliance Type",
            "description": "visa_expiry, tax_filing, license_renewal, etc"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "deadline": {
            "type": "string",
            "title": "Deadline",
            "description": "Deadline date (YYYY-MM-DD)"
          },
          "estimated_cost": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Cost"
          },
          "required_documents": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required Documents"
          }
        },
        "type": "object",
        "required": [
          "client_id",
          "compliance_type",
          "title",
          "description",
          "deadline"
        ],
        "title": "AddComplianceItemRequest"
      },
      "AgentExecutionResponse": {
        "properties": {
          "execution_id": {
            "type": "string",
            "title": "Execution Id"
          },
          "agent_name": {
            "type": "string",
            "title": "Agent Name"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "started_at": {
            "type": "string",
            "title": "Started At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "result": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "execution_id",
          "agent_name",
          "status",
          "message",
          "started_at"
        ],
        "title": "AgentExecutionResponse"
      },
      "BatchIngestionRequest": {
        "properties": {
          "directory_path": {
            "type": "string",
            "title": "Directory Path"
          },
          "file_patterns": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "File Patterns"
          },
          "skip_existing": {
            "type": "boolean",
            "title": "Skip Existing",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "directory_path"
        ],
        "title": "BatchIngestionRequest",
        "description": "Request to ingest multiple books"
      },
      "BatchIngestionResponse": {
        "properties": {
          "total_books": {
            "type": "integer",
            "title": "Total Books"
          },
          "successful": {
            "type": "integer",
            "title": "Successful"
          },
          "failed": {
            "type": "integer",
            "title": "Failed"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/BookIngestionResponse"
            },
            "type": "array",
            "title": "Results"
          },
          "execution_time_seconds": {
            "type": "number",
            "title": "Execution Time Seconds"
          }
        },
        "type": "object",
        "required": [
          "total_books",
          "successful",
          "failed",
          "results",
          "execution_time_seconds"
        ],
        "title": "BatchIngestionResponse",
        "description": "Response from batch ingestion"
      },
      "Body_upload_and_ingest_api_ingest_upload_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_and_ingest_api_ingest_upload_post"
      },
      "BookIngestionRequest": {
        "properties": {
          "file_path": {
            "type": "string",
            "title": "File Path"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "author": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author"
          },
          "language": {
            "type": "string",
            "title": "Language",
            "default": "en"
          },
          "tier_override": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TierLevel"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "file_path"
        ],
        "title": "BookIngestionRequest",
        "description": "Request to ingest a single book"
      },
      "BookIngestionResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "book_title": {
            "type": "string",
            "title": "Book Title"
          },
          "book_author": {
            "type": "string",
            "title": "Book Author"
          },
          "tier": {
            "$ref": "#/components/schemas/TierLevel"
          },
          "chunks_created": {
            "type": "integer",
            "title": "Chunks Created"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "success",
          "book_title",
          "book_author",
          "tier",
          "chunks_created",
          "message"
        ],
        "title": "BookIngestionResponse",
        "description": "Response from book ingestion"
      },
      "CalendarEvent": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title"
          },
          "start_time": {
            "type": "string",
            "title": "Start Time"
          },
          "duration_minutes": {
            "type": "integer",
            "title": "Duration Minutes",
            "default": 60
          },
          "attendees": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Attendees",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "title",
          "start_time"
        ],
        "title": "CalendarEvent"
      },
      "ChunkMetadata": {
        "properties": {
          "book_title": {
            "type": "string",
            "title": "Book Title"
          },
          "book_author": {
            "type": "string",
            "title": "Book Author"
          },
          "tier": {
            "$ref": "#/components/schemas/TierLevel"
          },
          "min_level": {
            "type": "integer",
            "maximum": 3.0,
            "minimum": 0.0,
            "title": "Min Level"
          },
          "chunk_index": {
            "type": "integer",
            "title": "Chunk Index"
          },
          "page_number": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Number"
          },
          "language": {
            "type": "string",
            "title": "Language",
            "default": "en"
          },
          "topics": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Topics"
          },
          "file_path": {
            "type": "string",
            "title": "File Path"
          },
          "total_chunks": {
            "type": "integer",
            "title": "Total Chunks"
          }
        },
        "type": "object",
        "required": [
          "book_title",
          "book_author",
          "tier",
          "min_level",
          "chunk_index",
          "file_path",
          "total_chunks"
        ],
        "title": "ChunkMetadata",
        "description": "Metadata for each text chunk"
      },
      "ClientCreate": {
        "properties": {
          "full_name": {
            "type": "string",
            "title": "Full Name"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "whatsapp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Whatsapp"
          },
          "nationality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nationality"
          },
          "passport_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Passport Number"
          },
          "client_type": {
            "type": "string",
            "title": "Client Type",
            "default": "individual"
          },
          "assigned_to": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned To"
          },
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "default": []
          },
          "custom_fields": {
            "type": "object",
            "title": "Custom Fields",
            "default": {}
          }
        },
        "type": "object",
        "required": [
          "full_name"
        ],
        "title": "ClientCreate"
      },
      "ClientResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "uuid": {
            "type": "string",
            "title": "Uuid"
          },
          "full_name": {
            "type": "string",
            "title": "Full Name"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "whatsapp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Whatsapp"
          },
          "nationality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nationality"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "client_type": {
            "type": "string",
            "title": "Client Type"
          },
          "assigned_to": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned To"
          },
          "first_contact_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Contact Date"
          },
          "last_interaction_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Interaction Date"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "uuid",
          "full_name",
          "email",
          "phone",
          "whatsapp",
          "nationality",
          "status",
          "client_type",
          "assigned_to",
          "first_contact_date",
          "last_interaction_date",
          "tags",
          "created_at",
          "updated_at"
        ],
        "title": "ClientResponse"
      },
      "ClientUpdate": {
        "properties": {
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "whatsapp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Whatsapp"
          },
          "nationality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nationality"
          },
          "passport_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Passport Number"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "client_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Type"
          },
          "assigned_to": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned To"
          },
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "custom_fields": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Fields"
          }
        },
        "type": "object",
        "title": "ClientUpdate"
      },
      "ClockInRequest": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User identifier"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Optional metadata"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "email"
        ],
        "title": "ClockInRequest",
        "description": "Clock-in request"
      },
      "ClockOutRequest": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User identifier"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Optional metadata"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "email"
        ],
        "title": "ClockOutRequest",
        "description": "Clock-out request"
      },
      "ClockResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "action": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Action"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp"
          },
          "bali_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bali Time"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "hours_worked": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hours Worked"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "ClockResponse",
        "description": "Clock-in/out response"
      },
      "ConversationHistoryResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "messages": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Messages",
            "default": []
          },
          "total_messages": {
            "type": "integer",
            "title": "Total Messages",
            "default": 0
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "ConversationHistoryResponse"
      },
      "CreateJourneyRequest": {
        "properties": {
          "journey_type": {
            "type": "string",
            "title": "Journey Type",
            "description": "Journey type: pt_pma_setup, kitas_application, property_purchase"
          },
          "client_id": {
            "type": "string",
            "title": "Client Id",
            "description": "Client ID"
          },
          "custom_steps": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Steps",
            "description": "Custom journey steps"
          }
        },
        "type": "object",
        "required": [
          "journey_type",
          "client_id"
        ],
        "title": "CreateJourneyRequest"
      },
      "DailyHours": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "date": {
            "type": "string",
            "title": "Date"
          },
          "clock_in": {
            "type": "string",
            "title": "Clock In"
          },
          "clock_out": {
            "type": "string",
            "title": "Clock Out"
          },
          "hours_worked": {
            "type": "number",
            "title": "Hours Worked"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "email",
          "date",
          "clock_in",
          "clock_out",
          "hours_worked"
        ],
        "title": "DailyHours",
        "description": "Daily work hours"
      },
      "DocumentChunk": {
        "properties": {
          "content": {
            "type": "string",
            "minLength": 10,
            "title": "Content",
            "description": "Document content (text)"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata",
            "description": "Metadata (law_id, pasal, category, type, etc.)"
          }
        },
        "type": "object",
        "required": [
          "content",
          "metadata"
        ],
        "title": "DocumentChunk",
        "description": "Single document chunk to ingest"
      },
      "EmailDraft": {
        "properties": {
          "recipient": {
            "type": "string",
            "title": "Recipient"
          },
          "subject": {
            "type": "string",
            "title": "Subject"
          },
          "body": {
            "type": "string",
            "title": "Body"
          }
        },
        "type": "object",
        "required": [
          "recipient",
          "subject",
          "body"
        ],
        "title": "EmailDraft"
      },
      "EmbedRequest": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "default": "sentence-transformers"
          }
        },
        "type": "object",
        "required": [
          "text"
        ],
        "title": "EmbedRequest"
      },
      "EmbedResponse": {
        "properties": {
          "embedding": {
            "items": {
              "type": "number"
            },
            "type": "array",
            "title": "Embedding"
          },
          "dimensions": {
            "type": "integer",
            "title": "Dimensions"
          },
          "model": {
            "type": "string",
            "title": "Model"
          }
        },
        "type": "object",
        "required": [
          "embedding",
          "dimensions",
          "model"
        ],
        "title": "EmbedResponse"
      },
      "FeedbackRequest": {
        "properties": {
          "user_email": {
            "type": "string",
            "title": "User Email"
          },
          "query_text": {
            "type": "string",
            "title": "Query Text"
          },
          "original_answer": {
            "type": "string",
            "title": "Original Answer"
          },
          "user_correction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Correction"
          },
          "feedback_type": {
            "type": "string",
            "title": "Feedback Type",
            "description": "Type of feedback"
          },
          "rating": {
            "type": "integer",
            "maximum": 5.0,
            "minimum": 1.0,
            "title": "Rating",
            "description": "User satisfaction rating"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id",
            "description": "Session identifier"
          }
        },
        "type": "object",
        "required": [
          "user_email",
          "query_text",
          "original_answer",
          "feedback_type",
          "rating"
        ],
        "title": "FeedbackRequest",
        "description": "User feedback for continuous learning"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "version": {
            "type": "string",
            "title": "Version"
          },
          "database": {
            "type": "object",
            "title": "Database"
          },
          "embeddings": {
            "type": "object",
            "title": "Embeddings"
          }
        },
        "type": "object",
        "required": [
          "status",
          "version",
          "database",
          "embeddings"
        ],
        "title": "HealthResponse",
        "description": "Health check response"
      },
      "ImageGenerationRequest": {
        "properties": {
          "prompt": {
            "type": "string",
            "title": "Prompt"
          },
          "number_of_images": {
            "type": "integer",
            "title": "Number Of Images",
            "default": 1
          },
          "aspect_ratio": {
            "type": "string",
            "title": "Aspect Ratio",
            "default": "1:1"
          },
          "safety_filter_level": {
            "type": "string",
            "title": "Safety Filter Level",
            "default": "block_some"
          },
          "person_generation": {
            "type": "string",
            "title": "Person Generation",
            "default": "allow_adult"
          }
        },
        "type": "object",
        "required": [
          "prompt"
        ],
        "title": "ImageGenerationRequest"
      },
      "ImageGenerationResponse": {
        "properties": {
          "images": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Images"
          },
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "images",
          "success"
        ],
        "title": "ImageGenerationResponse"
      },
      "ImagePrompt": {
        "properties": {
          "prompt": {
            "type": "string",
            "title": "Prompt"
          }
        },
        "type": "object",
        "required": [
          "prompt"
        ],
        "title": "ImagePrompt"
      },
      "IngestRequest": {
        "properties": {
          "collection": {
            "type": "string",
            "title": "Collection",
            "description": "Target collection name",
            "default": "legal_intelligence"
          },
          "documents": {
            "items": {
              "$ref": "#/components/schemas/DocumentChunk"
            },
            "type": "array",
            "maxItems": 1000,
            "minItems": 1,
            "title": "Documents",
            "description": "List of document chunks to ingest"
          },
          "batch_size": {
            "type": "integer",
            "maximum": 500.0,
            "minimum": 10.0,
            "title": "Batch Size",
            "description": "Batch size for ingestion",
            "default": 100
          }
        },
        "type": "object",
        "required": [
          "documents"
        ],
        "title": "IngestRequest",
        "description": "Bulk ingest request"
      },
      "IngestResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "collection": {
            "type": "string",
            "title": "Collection"
          },
          "documents_ingested": {
            "type": "integer",
            "title": "Documents Ingested"
          },
          "execution_time_ms": {
            "type": "number",
            "title": "Execution Time Ms"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "success",
          "collection",
          "documents_ingested",
          "execution_time_ms",
          "message"
        ],
        "title": "IngestResponse",
        "description": "Ingest response"
      },
      "InitRequest": {
        "properties": {
          "qdrant_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qdrant Url"
          }
        },
        "type": "object",
        "title": "InitRequest"
      },
      "InitResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "collection": {
            "type": "string",
            "title": "Collection"
          },
          "qdrant_url": {
            "type": "string",
            "title": "Qdrant Url"
          },
          "total_memories": {
            "type": "integer",
            "title": "Total Memories"
          }
        },
        "type": "object",
        "required": [
          "status",
          "collection",
          "qdrant_url",
          "total_memories"
        ],
        "title": "InitResponse"
      },
      "IntelSearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "date_range": {
            "type": "string",
            "title": "Date Range",
            "default": "last_7_days"
          },
          "tier": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tier",
            "default": [
              "T1",
              "T2",
              "T3"
            ]
          },
          "impact_level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Impact Level"
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "default": 20
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "IntelSearchRequest"
      },
      "IntelStoreRequest": {
        "properties": {
          "collection": {
            "type": "string",
            "title": "Collection"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "document": {
            "type": "string",
            "title": "Document"
          },
          "embedding": {
            "items": {
              "type": "number"
            },
            "type": "array",
            "title": "Embedding"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata"
          },
          "full_data": {
            "type": "object",
            "title": "Full Data"
          }
        },
        "type": "object",
        "required": [
          "collection",
          "id",
          "document",
          "embedding",
          "metadata",
          "full_data"
        ],
        "title": "IntelStoreRequest"
      },
      "InteractionCreate": {
        "properties": {
          "client_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "practice_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Practice Id"
          },
          "conversation_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Id"
          },
          "interaction_type": {
            "type": "string",
            "title": "Interaction Type"
          },
          "channel": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel"
          },
          "subject": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subject"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "full_content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Content"
          },
          "sentiment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sentiment"
          },
          "team_member": {
            "type": "string",
            "title": "Team Member"
          },
          "direction": {
            "type": "string",
            "title": "Direction",
            "default": "inbound"
          },
          "duration_minutes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Minutes"
          },
          "extracted_entities": {
            "type": "object",
            "title": "Extracted Entities",
            "default": {}
          },
          "action_items": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Action Items",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "interaction_type",
          "team_member"
        ],
        "title": "InteractionCreate"
      },
      "InteractionResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "client_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "practice_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Practice Id"
          },
          "interaction_type": {
            "type": "string",
            "title": "Interaction Type"
          },
          "channel": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel"
          },
          "subject": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subject"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "team_member": {
            "type": "string",
            "title": "Team Member"
          },
          "direction": {
            "type": "string",
            "title": "Direction"
          },
          "sentiment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sentiment"
          },
          "interaction_date": {
            "type": "string",
            "format": "date-time",
            "title": "Interaction Date"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "client_id",
          "practice_id",
          "interaction_type",
          "channel",
          "subject",
          "summary",
          "team_member",
          "direction",
          "sentiment",
          "interaction_date",
          "created_at"
        ],
        "title": "InteractionResponse"
      },
      "MemorySearchResponse": {
        "properties": {
          "results": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Results"
          },
          "ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Ids"
          },
          "distances": {
            "items": {
              "type": "number"
            },
            "type": "array",
            "title": "Distances"
          },
          "total_found": {
            "type": "integer",
            "title": "Total Found"
          },
          "execution_time_ms": {
            "type": "number",
            "title": "Execution Time Ms"
          }
        },
        "type": "object",
        "required": [
          "results",
          "ids",
          "distances",
          "total_found",
          "execution_time_ms"
        ],
        "title": "MemorySearchResponse"
      },
      "MonthlySummary": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "month_start": {
            "type": "string",
            "title": "Month Start"
          },
          "days_worked": {
            "type": "integer",
            "title": "Days Worked"
          },
          "total_hours": {
            "type": "number",
            "title": "Total Hours"
          },
          "avg_hours_per_day": {
            "type": "number",
            "title": "Avg Hours Per Day"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "email",
          "month_start",
          "days_worked",
          "total_hours",
          "avg_hours_per_day"
        ],
        "title": "MonthlySummary",
        "description": "Monthly work summary"
      },
      "OracleQueryRequest": {
        "properties": {
          "query": {
            "type": "string",
            "minLength": 3,
            "title": "Query",
            "description": "Natural language query"
          },
          "user_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Email",
            "description": "User email for personalization"
          },
          "language_override": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language Override",
            "description": "Override user language preference"
          },
          "domain_hint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain Hint",
            "description": "Optional domain hint for routing"
          },
          "context_docs": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Docs",
            "description": "Specific document IDs to analyze"
          },
          "use_ai": {
            "type": "boolean",
            "title": "Use Ai",
            "description": "Enable AI reasoning",
            "default": true
          },
          "include_sources": {
            "type": "boolean",
            "title": "Include Sources",
            "description": "Include source document references",
            "default": true
          },
          "response_format": {
            "type": "string",
            "title": "Response Format",
            "description": "Response format: 'structured' or 'conversational'",
            "default": "structured"
          },
          "limit": {
            "type": "integer",
            "maximum": 50.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Max document results",
            "default": 10
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id",
            "description": "Session identifier for analytics"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "OracleQueryRequest",
        "description": "Universal Oracle query request with user context"
      },
      "OracleQueryResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "query": {
            "type": "string",
            "title": "Query"
          },
          "user_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Email"
          },
          "answer": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Answer"
          },
          "answer_language": {
            "type": "string",
            "title": "Answer Language",
            "default": "en"
          },
          "model_used": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model Used"
          },
          "sources": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Sources"
          },
          "document_count": {
            "type": "integer",
            "title": "Document Count",
            "default": 0
          },
          "collection_used": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collection Used"
          },
          "routing_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Routing Reason"
          },
          "domain_confidence": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain Confidence"
          },
          "user_profile": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/app__routers__oracle_universal__UserProfile"
              },
              {
                "type": "null"
              }
            ]
          },
          "language_detected": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language Detected"
          },
          "execution_time_ms": {
            "type": "number",
            "title": "Execution Time Ms"
          },
          "search_time_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Search Time Ms"
          },
          "reasoning_time_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reasoning Time Ms"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "warning": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warning"
          }
        },
        "type": "object",
        "required": [
          "success",
          "query",
          "execution_time_ms"
        ],
        "title": "OracleQueryResponse",
        "description": "Universal Oracle query response with full context"
      },
      "PracticeCreate": {
        "properties": {
          "client_id": {
            "type": "integer",
            "title": "Client Id"
          },
          "practice_type_code": {
            "type": "string",
            "title": "Practice Type Code"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "default": "inquiry"
          },
          "priority": {
            "type": "string",
            "title": "Priority",
            "default": "normal"
          },
          "quoted_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quoted Price"
          },
          "assigned_to": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned To"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "internal_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Internal Notes"
          }
        },
        "type": "object",
        "required": [
          "client_id",
          "practice_type_code"
        ],
        "title": "PracticeCreate"
      },
      "PracticeResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "uuid": {
            "type": "string",
            "title": "Uuid"
          },
          "client_id": {
            "type": "integer",
            "title": "Client Id"
          },
          "practice_type_id": {
            "type": "integer",
            "title": "Practice Type Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "priority": {
            "type": "string",
            "title": "Priority"
          },
          "quoted_price": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quoted Price"
          },
          "actual_price": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Actual Price"
          },
          "payment_status": {
            "type": "string",
            "title": "Payment Status"
          },
          "assigned_to": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned To"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date"
          },
          "completion_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completion Date"
          },
          "expiry_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expiry Date"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "uuid",
          "client_id",
          "practice_type_id",
          "status",
          "priority",
          "quoted_price",
          "actual_price",
          "payment_status",
          "assigned_to",
          "start_date",
          "completion_date",
          "expiry_date",
          "created_at"
        ],
        "title": "PracticeResponse"
      },
      "PracticeUpdate": {
        "properties": {
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "priority": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority"
          },
          "quoted_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quoted Price"
          },
          "actual_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Actual Price"
          },
          "payment_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payment Status"
          },
          "paid_amount": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Paid Amount"
          },
          "assigned_to": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned To"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date"
          },
          "completion_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completion Date"
          },
          "expiry_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expiry Date"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "internal_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Internal Notes"
          },
          "documents": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Documents"
          },
          "missing_documents": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Missing Documents"
          }
        },
        "type": "object",
        "title": "PracticeUpdate"
      },
      "SaveConversationRequest": {
        "properties": {
          "user_email": {
            "type": "string",
            "title": "User Email"
          },
          "messages": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Messages"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "user_email",
          "messages"
        ],
        "title": "SaveConversationRequest"
      },
      "SearchMemoryRequest": {
        "properties": {
          "query_embedding": {
            "items": {
              "type": "number"
            },
            "type": "array",
            "title": "Query Embedding"
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "default": 10
          },
          "metadata_filter": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Filter"
          }
        },
        "type": "object",
        "required": [
          "query_embedding"
        ],
        "title": "SearchMemoryRequest"
      },
      "SearchQuery": {
        "properties": {
          "query": {
            "type": "string",
            "minLength": 1,
            "title": "Query",
            "description": "Search query text"
          },
          "level": {
            "type": "integer",
            "maximum": 3.0,
            "minimum": 0.0,
            "title": "Level",
            "description": "User access level (0-3)",
            "default": 0
          },
          "limit": {
            "type": "integer",
            "maximum": 50.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum results to return",
            "default": 5
          },
          "tier_filter": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/TierLevel"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tier Filter",
            "description": "Filter by specific tiers"
          },
          "collection": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collection",
            "description": "Optional specific collection to search"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "SearchQuery",
        "description": "Search request model"
      },
      "SearchResponse": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/SearchResult"
            },
            "type": "array",
            "title": "Results"
          },
          "total_found": {
            "type": "integer",
            "title": "Total Found"
          },
          "user_level": {
            "type": "integer",
            "title": "User Level"
          },
          "execution_time_ms": {
            "type": "number",
            "title": "Execution Time Ms"
          }
        },
        "type": "object",
        "required": [
          "query",
          "results",
          "total_found",
          "user_level",
          "execution_time_ms"
        ],
        "title": "SearchResponse",
        "description": "Search response model"
      },
      "SearchResult": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text"
          },
          "metadata": {
            "$ref": "#/components/schemas/ChunkMetadata"
          },
          "similarity_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Score"
          }
        },
        "type": "object",
        "required": [
          "text",
          "metadata",
          "similarity_score"
        ],
        "title": "SearchResult",
        "description": "Single search result"
      },
      "SendNotificationRequest": {
        "properties": {
          "recipient_id": {
            "type": "string",
            "title": "Recipient Id"
          },
          "recipient_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recipient Email"
          },
          "recipient_phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recipient Phone"
          },
          "recipient_whatsapp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recipient Whatsapp"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "priority": {
            "type": "string",
            "title": "Priority",
            "default": "normal"
          },
          "channels": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channels"
          }
        },
        "type": "object",
        "required": [
          "recipient_id",
          "title",
          "message"
        ],
        "title": "SendNotificationRequest"
      },
      "SimilarMemoryRequest": {
        "properties": {
          "memory_id": {
            "type": "string",
            "title": "Memory Id"
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "default": 5
          }
        },
        "type": "object",
        "required": [
          "memory_id"
        ],
        "title": "SimilarMemoryRequest"
      },
      "StoreMemoryRequest": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "document": {
            "type": "string",
            "title": "Document"
          },
          "embedding": {
            "items": {
              "type": "number"
            },
            "type": "array",
            "title": "Embedding"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "id",
          "document",
          "embedding",
          "metadata"
        ],
        "title": "StoreMemoryRequest"
      },
      "TeamMemberStatus": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "is_online": {
            "type": "boolean",
            "title": "Is Online"
          },
          "last_action": {
            "type": "string",
            "title": "Last Action"
          },
          "last_action_type": {
            "type": "string",
            "title": "Last Action Type"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "email",
          "is_online",
          "last_action",
          "last_action_type"
        ],
        "title": "TeamMemberStatus",
        "description": "Team member status"
      },
      "TemplateNotificationRequest": {
        "properties": {
          "template_id": {
            "type": "string",
            "title": "Template Id",
            "description": "Template ID (e.g., compliance_60_days)"
          },
          "recipient_id": {
            "type": "string",
            "title": "Recipient Id"
          },
          "recipient_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recipient Email"
          },
          "recipient_phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recipient Phone"
          },
          "recipient_whatsapp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recipient Whatsapp"
          },
          "template_data": {
            "type": "object",
            "title": "Template Data",
            "description": "Data to fill template"
          }
        },
        "type": "object",
        "required": [
          "template_id",
          "recipient_id"
        ],
        "title": "TemplateNotificationRequest"
      },
      "TierLevel": {
        "type": "string",
        "enum": [
          "S",
          "A",
          "B",
          "C",
          "D"
        ],
        "title": "TierLevel",
        "description": "Book tier classifications"
      },
      "UserStatusResponse": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "is_online": {
            "type": "boolean",
            "title": "Is Online"
          },
          "last_action": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Action"
          },
          "last_action_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Action Type"
          },
          "today_hours": {
            "type": "number",
            "title": "Today Hours"
          },
          "week_hours": {
            "type": "number",
            "title": "Week Hours"
          },
          "week_days": {
            "type": "integer",
            "title": "Week Days"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "is_online",
          "last_action",
          "last_action_type",
          "today_hours",
          "week_hours",
          "week_days"
        ],
        "title": "UserStatusResponse",
        "description": "User work status response"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WeeklySummary": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "week_start": {
            "type": "string",
            "title": "Week Start"
          },
          "days_worked": {
            "type": "integer",
            "title": "Days Worked"
          },
          "total_hours": {
            "type": "number",
            "title": "Total Hours"
          },
          "avg_hours_per_day": {
            "type": "number",
            "title": "Avg Hours Per Day"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "email",
          "week_start",
          "days_worked",
          "total_hours",
          "avg_hours_per_day"
        ],
        "title": "WeeklySummary",
        "description": "Weekly work summary"
      },
      "app__modules__identity__router__LoginRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          },
          "pin": {
            "type": "string",
            "maxLength": 8,
            "minLength": 4,
            "title": "Pin",
            "description": "User PIN (4-8 digits)"
          }
        },
        "type": "object",
        "required": [
          "email",
          "pin"
        ],
        "title": "LoginRequest",
        "description": "Login request model"
      },
      "app__modules__identity__router__LoginResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "sessionId": {
            "type": "string",
            "title": "Sessionid"
          },
          "token": {
            "type": "string",
            "title": "Token"
          },
          "user": {
            "type": "object",
            "title": "User"
          },
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Permissions"
          },
          "personalizedResponse": {
            "type": "boolean",
            "title": "Personalizedresponse"
          },
          "loginTime": {
            "type": "string",
            "title": "Logintime"
          }
        },
        "type": "object",
        "required": [
          "success",
          "sessionId",
          "token",
          "user",
          "permissions",
          "personalizedResponse",
          "loginTime"
        ],
        "title": "LoginResponse",
        "description": "Login response model (matches Node.js format exactly)"
      },
      "app__routers__auth__LoginRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "LoginRequest",
        "description": "Login request model"
      },
      "app__routers__auth__LoginResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "data": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "LoginResponse",
        "description": "Login response model"
      },
      "app__routers__auth__UserProfile": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "role": {
            "type": "string",
            "title": "Role"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "language_preference": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language Preference"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "name",
          "role",
          "status"
        ],
        "title": "UserProfile",
        "description": "User profile model"
      },
      "app__routers__oracle_universal__UserProfile": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "role": {
            "type": "string",
            "title": "Role"
          },
          "language": {
            "type": "string",
            "title": "Language",
            "description": "User's preferred response language",
            "default": "en"
          },
          "tone": {
            "type": "string",
            "title": "Tone",
            "description": "Communication tone",
            "default": "professional"
          },
          "complexity": {
            "type": "string",
            "title": "Complexity",
            "description": "Response complexity level",
            "default": "medium"
          },
          "timezone": {
            "type": "string",
            "title": "Timezone",
            "description": "User's timezone",
            "default": "Asia/Bali"
          },
          "role_level": {
            "type": "string",
            "title": "Role Level",
            "description": "User's role level",
            "default": "member"
          },
          "meta_json": {
            "type": "object",
            "title": "Meta Json"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "email",
          "name",
          "role"
        ],
        "title": "UserProfile",
        "description": "User profile with localization preferences"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}